!function(a,b,c,d){"use strict";function e(a,b){var e=c(a),a=e.get(0),f={},b=c.extend({},f,b);this.options=b,m(),e.one("click",function(a){var b=c(this).attr("href");b&&this.host!==d&&this.host===location.host&&(a.preventDefault(),x(b))})}var f=function(a,d){var e=new RegExp("(^|>)([s|\r?\n|\r|	]*)<s*"+d+".*>","i").exec(a),f=!1;if(e){a=a.substr(e.index+e[0].length);var g=new RegExp(">([s|\r?\n|\r|	]*)<s*/s*"+d,"i").exec(a);if(g){var h=b.createElement("div");h.innerHTML=a.substr(0,g.index+g[0].length-d.length-2),f=c(h)}}return f},g=function(a,d,e){var f=new RegExp("(^|>)([s|\r?\n|\r|	]*)<s*"+e+"(.*)>","i").exec(d);if(f){var g="<div "+f[3]+"></div>",h=b.createElement("div");h.innerHTML=g,c.each(h.childNodes[0].attributes,function(b,c){a.attr(c.name,c.value)})}},h=function(a){for(var b=/([\s|\r?\n|\r|\t]*)(<\s*script((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)>([\s\S]*?)<\s*\/\s*script\s*>)([\s|\r?\n|\r|\t]*)/gi,c=a.match(b),d="",e=0,f=c.length;f>e;e++)d+=c[e].replace(b,";$6"),a=a.replace(c[e],"");return a},i=function(a){return a instanceof e},j="undefined"!=typeof a.history&&"undefined"!=typeof a.history.state&&"undefined"!=typeof a.onpopstate,k=!1,l=!1,m=function(){k||(k=!0,j&&c(a).off("popstate").one("popstate",function(a){a.state&&"undefined"!=typeof a.state.response&&(l=!1,w(a.state.response))}))},n=function(){return c(this).is("link")&&"stylesheet"==c(this).attr("rel")&&c(this).attr("href")},o=function(){return c(this).is("script")&&c(this).attr("src")},p=function(){return c(this).is("script")},q=function(){return!o.call(this)&&!n.call(this)},r=function(a,b){return c(this).attr(a)!=b},s=function(a,b){return c(this).attr(a)==b},t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],u=function(){for(var a=!1,b=0;b<t.length;b++){try{a=t[b]()}catch(c){continue}break}return a},v=function(a,c){var d=a.attr("src"),e=b.createElement("script");if(e.type="text/javascript",d){var f=u();f.open("GET",d,!1),f.send(""),e.text=f.responseText}else e.innerHTML=a[0].innerHTML;c.appendChild(e)},w=function(d){var e=f(d,"head"),i=f(d,"body"),j=c("link",e).filter(n),k=c("script",e).filter(o),l=c("*",e).filter(q),m=c("script",i).filter(p);c(),c();if(c("head *").filter(q).remove(),c("head link").filter(n).filter(function(){var a=c(this).attr("href"),b=j.filter(function(){return s.call(this,"href",a)}),d=0===b.length;return j=j.filter(function(){return r.call(this,"href",a)}),d}).remove(),c("head script").remove(),c("body script").remove(),j.length&&c("head").append(j),k.length&&c("head").append(k),l.length&&c("head").append(l),c("body").html(h(i.html())),g(c("body"),d,"body"),m.length)for(var t=0,u=m.length;u>t;t++)v(c(m[t]),b.getElementsByTagName("body")[0]);c(a).trigger("load")},x=function(d){c.ajax({async:!0,url:d,dataType:"html",success:function(c){w(c);var e=b.createElement("a"),f=b.createElement("a");e.href=d,f.href=a.location.href,j&&e.href!==f.href&&(l=!0,a.history.pushState({response:c},"",d))}})};c.fn.dynamite=function(a){return this.each(function(){var b=c(this).data("dynamite");i(b)||c(this).data("dynamite",new e(this,a))})},c(function(){c("[data-dynamite-detect=false]").first().length||c("[data-dynamite]").dynamite()})}(window,document,window.Zepto||window.jQuery);